{"ast":null,"code":"import _asyncToGenerator from \"/Users/jose/Desktop/proyects/fluid-angular/FluidAngular/collaborative-textarea/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*!\n * Copyright (c) Microsoft Corporation and contributors. All rights reserved.\n * Licensed under the MIT License.\n */\nimport axios from \"axios\";\n/**\n * Token Provider implementation for connecting to an Azure Function endpoint for\n * Azure Fluid Relay token resolution.\n */\nexport class AzureFunctionTokenProvider {\n  /**\n   * Creates a new instance using configuration parameters.\n   * @param azFunctionUrl - URL to Azure Function endpoint\n   * @param user - User object\n   */\n  constructor(azFunctionUrl, user) {\n    this.azFunctionUrl = azFunctionUrl;\n    this.user = user;\n  }\n  fetchOrdererToken(tenantId, documentId) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return {\n        jwt: yield _this.getToken(tenantId, documentId)\n      };\n    })();\n  }\n  fetchStorageToken(tenantId, documentId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return {\n        jwt: yield _this2.getToken(tenantId, documentId)\n      };\n    })();\n  }\n  getToken(tenantId, documentId) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      var _a, _b, _c;\n      const response = yield axios.get(_this3.azFunctionUrl, {\n        params: {\n          tenantId,\n          documentId,\n          userId: (_a = _this3.user) === null || _a === void 0 ? void 0 : _a.userId,\n          userName: (_b = _this3.user) === null || _b === void 0 ? void 0 : _b.userName,\n          additionalDetails: (_c = _this3.user) === null || _c === void 0 ? void 0 : _c.additionalDetails\n        }\n      });\n      return response.data;\n    })();\n  }\n}\n//# sourceMappingURL=AzureFunctionTokenProvider.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}