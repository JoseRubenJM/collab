{"ast":null,"code":"import _asyncToGenerator from \"/Users/jose/Desktop/proyects/fluid-angular/FluidAngular/collaborative-textarea/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { SharedMap, SharedString } from \"fluid-framework\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/fluid-relay.service\";\nexport let AzureComponent = /*#__PURE__*/(() => {\n  class AzureComponent {\n    constructor(azureFluidRelayService) {\n      this.azureFluidRelayService = azureFluidRelayService;\n      this.schema = {\n        initialObjects: {\n          map1: SharedMap,\n          text1: SharedString\n        },\n        dynamicObjectTypes: []\n      };\n      this.fluidContainer = '';\n      this.services = '';\n      this.id = '';\n      this.initialObjects = \"\";\n      this.client = this.azureFluidRelayService.getClient();\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        // this.fluidContainer = await this.client.createContainer(\n        //   this.schema\n        // );\n        // this.id = await this.fluidContainer.container.attach();\n        // console.log(this.id)\n        _this.getData(_this.client);\n      })();\n    }\n    getData(client) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        // Fetch back the container that had been created earlier with the same ID and schema\n        _this2.fluidContainer = yield client.getContainer(\"64dbf5dd-86d2-40ab-ab51-4224e268bea5\", _this2.schema);\n        // Get our list of initial objects that we had defined in the schema. initialObjects here will have the same signature\n        _this2.initialObjects = _this2.fluidContainer.container.initialObjects;\n        // Use the keys that we had set in the schema to load the individual objects\n        console.log(_this2.fluidContainer.container);\n        console.log(_this2.initialObjects['map1']);\n        console.log(_this2.initialObjects[\"text1\"]);\n      })();\n    }\n  }\n  AzureComponent.ɵfac = function AzureComponent_Factory(t) {\n    return new (t || AzureComponent)(i0.ɵɵdirectiveInject(i1.AzureFluidRelayService));\n  };\n  AzureComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AzureComponent,\n    selectors: [[\"app-azure\"]],\n    decls: 1,\n    vars: 0,\n    template: function AzureComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"p\");\n      }\n    }\n  });\n  return AzureComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}