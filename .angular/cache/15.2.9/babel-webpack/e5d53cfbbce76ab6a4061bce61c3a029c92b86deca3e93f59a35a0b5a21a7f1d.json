{"ast":null,"code":"import _asyncToGenerator from \"/Users/jose/Desktop/proyects/fluid-angular/FluidAngular/collaborative-textarea/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*!\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nimport { ScopeType } from \"@fluidframework/protocol-definitions\";\nimport { KJUR as jsrsasign } from \"jsrsasign\";\nimport { v4 as uuid } from \"uuid\";\n/**\n * As the name implies this is not secure and should not be used in production. It simply makes the example easier\n * to get up and running.\n */\nexport class InsecureTinyliciousTokenProvider {\n  fetchOrdererToken(tenantId, documentId) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return {\n        fromCache: true,\n        jwt: _this.getSignedToken(tenantId, documentId)\n      };\n    })();\n  }\n  fetchStorageToken(tenantId, documentId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return {\n        fromCache: true,\n        jwt: _this2.getSignedToken(tenantId, documentId)\n      };\n    })();\n  }\n  getSignedToken(tenantId, documentId, lifetime = 60 * 60, ver = \"1.0\") {\n    // Current time in seconds\n    const now = Math.round(new Date().getTime() / 1000);\n    const claims = {\n      documentId,\n      scopes: [ScopeType.DocRead, ScopeType.DocWrite, ScopeType.SummaryWrite],\n      tenantId,\n      user: {\n        id: uuid()\n      },\n      iat: now,\n      exp: now + lifetime,\n      ver\n    };\n    const utf8Key = {\n      utf8: \"12345\"\n    };\n    // eslint-disable-next-line no-null/no-null\n    return jsrsasign.jws.JWS.sign(null, JSON.stringify({\n      alg: \"HS256\",\n      typ: \"JWT\"\n    }), claims, utf8Key);\n  }\n}\n//# sourceMappingURL=insecureTinyliciousTokenProvider.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}